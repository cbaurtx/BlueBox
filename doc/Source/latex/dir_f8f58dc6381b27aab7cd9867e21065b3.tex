\doxysection{managed\+\_\+components/espressif\+\_\+\+\_\+esp-\/dsp/examples/applications/azure\+\_\+board\+\_\+apps/graphics/img\+\_\+to\+\_\+3d\+\_\+matrix/example Directory Reference}
\hypertarget{dir_f8f58dc6381b27aab7cd9867e21065b3}{}\label{dir_f8f58dc6381b27aab7cd9867e21065b3}\index{managed\_components/espressif\_\_esp-\/dsp/examples/applications/azure\_board\_apps/graphics/img\_to\_3d\_matrix/example Directory Reference@{managed\_components/espressif\_\_esp-\/dsp/examples/applications/azure\_board\_apps/graphics/img\_to\_3d\_matrix/example Directory Reference}}
Directory dependency graph for example\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=189pt]{dir_f8f58dc6381b27aab7cd9867e21065b3_dep}
\end{center}
\end{figure}


\doxysubsection{Detailed Description}
\hypertarget{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md79}{}\doxysubsection{\texorpdfstring{Getting the 3D matrix}{Getting the 3D matrix}}\label{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md79}
{\ttfamily Img\+To3\+D.\+py} generates a 3D matrix for the monochromatic display, from a provided 2D graphics -\/ image. As the output, {\ttfamily .c} and {\ttfamily .h} files containing the 3D matrix, are already included in the project structure, to {\ttfamily CMake\+List.\+txt} and {\ttfamily .cpp} files. The output arrays are named {\ttfamily image\+\_\+to\+\_\+3d\+\_\+matrix\+\_\+custom} and {\ttfamily image\+\_\+to\+\_\+bmp\+\_\+array\+\_\+custom} by default. The converted image is saved for a preview.

The script can be called by following commands\+: \begin{DoxyVerb}python ImgTo3D.py image_path image_width image_height 
\end{DoxyVerb}



\begin{DoxyItemize}
\item {\ttfamily Img\+To3\+D.\+py} -\/ absolute path to the python file
\item {\ttfamily image\+\_\+path} -\/ absolute or relative path to the image, to be converted
\item {\ttfamily image\+\_\+width} -\/ resulting width of the converted image (in pixels)
\item {\ttfamily image\+\_\+height} -\/ resulting height of the converted image (in pixels)
\end{DoxyItemize}

The python script converts the provided image first to a monochromatic image, then resizes the image according to the provided dimensions, then converts the image to a 3D matrix and finally saves the 3D into a {\ttfamily .c} file. \begin{DoxyVerb}python ImgTo3D.py --help
\end{DoxyVerb}


Run for help -\/ prints hints, how to run the file and information about the arguments.\hypertarget{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md80}{}\doxysubsubsection{\texorpdfstring{Optional arguments}{Optional arguments}}\label{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md80}
python Img\+To3\+D.\+py image\+\_\+path image\+\_\+width image\+\_\+height z\+\_\+dist invert bmp


\begin{DoxyItemize}
\item {\ttfamily z\+\_\+dist} puts a distance (in pixels) into the Z direction of each matrix row -\/ each 3D point. 0 is used otherwise
\item {\ttfamily invert} inverts black and white in the converted monochromatic image, causing inverting pixels that will be lit on the display
\item {\ttfamily bmp} includes a BMP form of the converted image into the output {\ttfamily .c} and {\ttfamily .h} files
\end{DoxyItemize}

The optional arguments can be added in any sequence.\hypertarget{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md81}{}\doxysubsection{\texorpdfstring{Example}{Example}}\label{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md81}
To get example results, in the example folder, run the script from the example folder like so\+: \begin{DoxyVerb}/example $ python ../ImgTo3D.py cpu_logo.png 64 64 invert bmp
\end{DoxyVerb}


To get the results already integrated into the project, run the script from any other location\+: \begin{DoxyVerb}/any_location $ python abs_path/ImgTo3D.py cpu_logo.png 64 64 bmp invert
\end{DoxyVerb}


Converts {\ttfamily cpu\+\_\+logo.\+png} image into a 3D matrix with dimensions of {\ttfamily 64x64} pixels, with inverted colors and the BMP is included into the output file.\hypertarget{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md82}{}\doxysubsubsection{\texorpdfstring{Output files}{Output files}}\label{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md82}
python script produces the following output\+:


\begin{DoxyItemize}
\item {\ttfamily converted\+\_\+image/cpu\+\_\+logo\+\_\+invert\+\_\+conv.\+png} image after the conversion (monochromatic and resized image)
\item {\ttfamily image\+\_\+to\+\_\+3d\+\_\+matrix.\+c} c file with 3D and BMP matrices in {\ttfamily const} arrays
\item {\ttfamily image\+\_\+to\+\_\+3d\+\_\+matrix.\+h} h file with 3D and BMP arrays declarations in {\ttfamily extern const}
\end{DoxyItemize}

The output {\ttfamily .c} and {\ttfamily .h} files are based on template files {\ttfamily template\+\_\+img\+\_\+to\+\_\+3d.\+c} and {\ttfamily template\+\_\+img\+\_\+to\+\_\+3d.\+h}. From which, only the variables declarations are changed according to the converted image.

The expected output from the python script is the following\+: \begin{DoxyVerb}Image conversion done!
Converted image cpu_logo_invert_conv.png
Converted image location ${workspaceFolder}/graphics/img_to_3d_matrix/example/converted_image

Output files generation done!
Output files image_to_3d_matrix.c image_to_3d_matrix.h
Output files location ${workspaceFolder}/graphics/img_to_3d_matrix/example

All done!
\end{DoxyVerb}
\hypertarget{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md83}{}\doxysubsubsection{\texorpdfstring{Image conversion output example}{Image conversion output example}}\label{dir_f8f58dc6381b27aab7cd9867e21065b3_autotoc_md83}
 
\begin{DoxyTable}{2}{}{}{0}
~\newline
Converted image (64x64) ~\newline
&~\newline
Inverted colors (64x64) ~\newline
\\
   &   \\
\SetCell[c=2]{}~\newline
Original image (256x256) ~\newline
&\\
\SetCell[c=2]{}   &\\
\end{DoxyTable}
 